<!DOCTYPE html>
	<html>
	<head>
		<meta charset="utf-8">
		<!-- 新 Bootstrap 核心 CSS 文件 -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<body>
 <button onclick="notifyMe()">高级通知演示</button> 
<script type='text/javascript'>
function notifyMe() {
  var title = "关闭当前网页不会消失";
  var options = {
      body: "http://img.sobot.com/chatres/common/face/admin.png",
      icon: "http://img.sobot.com/chatres/common/face/admin.png"
  };
  // 让我们来看看浏览器是否支持通知
  if (!("Notification" in window)) {
    alert("此浏览器不支持桌面通知");
  }
  // 让我们来看看是否通知权限已被授予
  else if (Notification.permission === "granted") {
    // 如果这是可以让我们创建一个通知
    var notification = new Notification(title, options);
    notification.onshow = function() {
                setTimeout(function() {
                    notification.close();
                }, max);
            };
  }
  // 否则，我们需要问的权限的用户
  else if (Notification.permission !== 'denied') {
    Notification.requestPermission(function (permission) {
      // 如果用户接受，让我们创建一个通知
      if (permission === "granted") {
        var notification = new Notification(title, options);
        notification.onshow = function() {
                setTimeout(function() {
                    notification.close();
                }, max);
            };
      }
    });
  }
  // 最后，如​​果用户拒绝通知你，
  // 要尊重就没有必要打扰他们了。
}
</script>
</body></head>
</html>
